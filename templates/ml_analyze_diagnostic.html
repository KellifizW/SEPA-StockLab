{% extends "base.html" %}
{% block title %}ML åˆ†æ - è¨ºæ–·é é¢{% endblock %}

{% block content %}
<div style="max-width: 800px; margin: 0 auto; padding: 20px;">
  <h1 style="color: #3fb950;">ğŸ” ML åˆ†æé é¢ - è¨ºæ–·å·¥å…·</h1>
  <p>ä½¿ç”¨æ­¤å·¥å…·ä¾†è¨ºæ–·ç‚ºä»€éº¼ ML åˆ†æé é¢é¡¯ç¤ºç‚ºç©ºç™½ã€‚</p>

  <div style="background: #161b22; padding: 20px; border: 1px solid #30363d; border-radius: 8px; margin-bottom: 20px;">
    <h2>ğŸ“‹ æª¢æŸ¥æ¸…å–®</h2>
    
    <div style="margin-bottom: 15px;">
      <strong>âœ… Step 1: é©—è­‰æœå‹™å™¨é€£æ¥</strong>
      <p style="color: #8b949e;">æœå‹™å™¨å·²ç¶“å›æ‡‰æ­¤é é¢,æ‰€ä»¥:
        <ul style="margin: 10px 0;">
          <li>âœ“ Flask æœå‹™å™¨é‹è¡Œ</li>
          <li>âœ“ ç¶²è·¯é€£æ¥æ­£å¸¸</li>
        </ul>
      </p>
    </div>

    <div style="margin-bottom: 15px;">
      <strong>âœ… Step 2: æª¢æŸ¥ Bootstrap CSS</strong>
      <p style="color: #8b949e;">
        <button onclick="testBootstrap()" style="background: #238636; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">
          æ¸¬è©¦ Bootstrap åŠ è¼‰
        </button>
      </p>
      <div id="bootstrapTest" style="margin-top: 10px; color: #3fb950; display: none;">
        âœ“ Bootstrap CSS å·²æ­£ç¢ºåŠ è¼‰
      </div>
    </div>

    <div style="margin-bottom: 15px;">
      <strong>âœ… Step 3: æª¢æŸ¥ JavaScript</strong>
      <p style="color: #8b949e;">
        <button onclick="testJavaScript()" style="background: #238636; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">
          æ¸¬è©¦ JavaScript
        </button>
      </p>
      <div id="jsTest" style="margin-top: 10px; color: #3fb950; display: none;">
        âœ“ JavaScript å·²æ­£ç¢ºåŸ·è¡Œ
      </div>
    </div>

    <div style="margin-bottom: 15px;">
      <strong>âœ… Step 4: æ¸¬è©¦ ML åˆ†æé é¢</strong>
      <p style="color: #8b949e;">
        <a href="/ml/analyze" target="_blank" style="background: #238636; color: white; padding: 8px 16px; border-radius: 4px; text-decoration: none; display: inline-block;">
          æ‰“é–‹ ML åˆ†æé é¢ (æ–°æ¨™ç±¤é )
        </a>
      </p>
      <p style="color: #8b949e; font-size: 12px; margin-top: 10px;">
        å¦‚æœçœ‹åˆ°ç©ºç™½é é¢,è«‹:
        <ol>
          <li>æŒ‰ F12 æ‰“é–‹ DevTools</li>
          <li>æª¢æŸ¥ Console æ¨™ç±¤æ˜¯å¦æœ‰ç´…è‰²éŒ¯èª¤</li>
          <li>æª¢æŸ¥ Network æ¨™ç±¤æ˜¯å¦æœ‰å¤±æ•—çš„è³‡æº</li>
          <li>å°‡éŒ¯èª¤ä¿¡æ¯åˆ†äº«çµ¦é–‹ç™¼è€…</li>
        </ol>
      </p>
    </div>
  </div>

  <div style="background: #1a0a0a; padding: 20px; border: 1px solid #f85149; border-radius: 8px;">
    <h2 style="color: #f85149;">ğŸ†˜ å¦‚æœä»ç„¶çœ‹åˆ°ç©ºç™½é é¢</h2>
    <ol style="color: #c9d1d9;">
      <li><strong>æ¸…é™¤ç€è¦½å™¨å¿«å–:</strong>
        <ul>
          <li>Chrome/Edge: Ctrl+Shift+Delete</li>
          <li>Firefox: Ctrl+Shift+Delete</li>
          <li>Safari: åå¥½è¨­å®š > éš±ç§ > ç®¡ç†ç¶²ç«™è³‡æ–™</li>
        </ul>
      </li>
      <li><strong>å˜—è©¦ä¸åŒçš„ç€è¦½å™¨</strong>(ä¾‹å¦‚ Chrome, Firefox, Edge)</li>
      <li><strong>ç¦ç”¨ç€è¦½å™¨æ“´å……ç¨‹å¼</strong>(å¯èƒ½å¹²æ“¾ CSS/JS)</li>
      <li><strong>æª¢æŸ¥äº’è¯ç¶²é€£æ¥</strong>(CDN è³‡æºåŠ è¼‰)</li>
      <li><strong>é‡å•Ÿ Flask æœå‹™å™¨</strong></li>
    </ol>
  </div>

  <div style="margin-top: 20px; padding: 20px; background: #0a1a0a; border: 1px solid #3fb950; border-radius: 8px; color: #3fb950;">
    <strong>ğŸ’¡ æç¤º:</strong> å³ä½¿ Bootstrap CDN åŠ è¼‰å¤±æ•—,é é¢ç¾åœ¨ä¹Ÿæ‡‰è©²èƒ½é¡¯ç¤ºåŸºæœ¬çš„æœå°‹æ¡†å’Œè¼¸å…¥æ¬„ä½ã€‚å¦‚æœçœ‹ä¸åˆ°ä»»ä½•æ±è¥¿,å¯èƒ½æ˜¯ç¶²è·¯å•é¡Œã€‚
  </div>
</div>

<script>
function testBootstrap() {
  const btn = event.target;
  // Check if Bootstrap is loaded by looking for a Bootstrap class
  const testEl = document.createElement('div');
  testEl.className = 'card';
  document.body.appendChild(testEl);
  const style = window.getComputedStyle(testEl);
  const bgColor = style.backgroundColor;
  document.body.removeChild(testEl);
  
  if (bgColor && bgColor !== 'rgba(0, 0, 0, 0)') {
    document.getElementById('bootstrapTest').style.display = 'block';
  } else {
    document.getElementById('bootstrapTest').innerHTML = 'âœ— Bootstrap CSS æœªåŠ è¼‰ (CDN å¯èƒ½å¤±æ•—)';
    document.getElementById('bootstrapTest').style.color = '#f85149';
    document.getElementById('bootstrapTest').style.display = 'block';
  }
}

function testJavaScript() {
  const result = document.getElementById('jsTest');
  result.style.display = 'block';
  
  const checks = {
    'LightweightCharts': typeof LightweightCharts !== 'undefined',
    'Bootstrap object': typeof bootstrap !== 'undefined'
  };
  
  let html = 'âœ“ JavaScript å·²æ­£ç¢ºåŸ·è¡Œ<br>';
  for (const [name, loaded] of Object.entries(checks)) {
    html += `  â€¢ ${name}: ${loaded ? 'âœ“' : 'âœ—'}<br>`;
  }
  result.innerHTML = html;
  result.style.color = Object.values(checks).every(v => v) ? '#3fb950' : '#e3b341';
}
</script>
{% endblock %}
